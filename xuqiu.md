# OJ系统需求梳理

### 一、用户角色及对应需求

| 用户 | 需求 |
| :-: | :-- |
| 管理员 | 1. 管理用户权限 |
| 老师 | 1. 发放课程资源 <br>2. 发布作业 <br>3. 掌握学生作业完成情况 <br>4. 抄袭检测 <br>5. 发布考试 <br>6. 登记成绩 <br>7. 提供和筛选练习题目 <br>8. 发布比赛 |
| 学生 | 1. 获取课程资源 <br>2. 完成课程作业 <br>3. 参加科目考试 <br>4. 进行编程练习 <br>5. 参加编程比赛 |
| 助教 | 1. 掌握学生作业完成情况 <br>2. 查看提交记录 |



### 二、OJ系统的功能模块划分

![图片](https://uploader.shimo.im/f/lwv1d1LxcVYADWzr.png!thumbnail)


### 三、系统设计（[原型图](yxt/index.html/)）
1. 管理员
    1. 创建用户
        1. 创建教师用户
            1. 创建一个教师用户
                2. 输入教师姓名、教工号等教师信息
            2. 批量创建教师用户
                1. 从文件导入多行教师信息
                2. 文本框导入多行教师信息
            3. 创建学生用户
                1. 创建一个学生用户
                    1. 输入学生姓名、学号等学生信息
                2. 批量创建学生用户
                    1. 从文件导入多行学生信息
                    2. 文本框导入多行学生信息
        2. 重置密码
        3. 管理用户权限
            1. 修改学生权限
                1. 修改一个学生权限
                    1. 勾选当前拥有的权限
                2. 修改多个学生权限
                    1. （第一步）选择学生
                        1. 在学生列表中勾选
                        2. 从文件或文本框中导入学号
                    2. （第二步）勾选当前拥有的权限
            2. 修改教师权限
                1. 修改一个教师权限
                    1. 勾选当前拥有的权限
                2. 修改多个教师权限
                    1. （第一步）选择教师
                        1. 在教师列表中勾选
                        2. 从文件或文本框中导入教工号
                    2. （第二步）勾选当前拥有的权限
            3. 所有权限
                1. 进入课程页面
                2. 进入练习页面
                3. 进入竞赛页面
                4. 进入考试页面
                5. 进入课程管理页面
                    1. 修改课程信息
                    2. 发布课程资源
                    3. 作业批改
                    4. 发布考试
                6. 进入题目管理页面
                7. 进入比赛管理页面
                8. 进入用户管理页面
                9. 进入权限管理页面
                10. 进入考试模式设置页面
            4. 学生默认权限：进入课程页面、进入练习页面、进入竞赛页面
            5. 考试模式下的学生权限：进入考试页面
            6. 教师默认权限：进入课程管理页面（发布课程资源、作业批改、发布考试）、进入题目管理页面、进入比赛管理页面
            7. 助教权限：进入课程管理页面（无子权限）
            8. 管理员特殊权限：进入用户管理页面、进入权限管理页面、进入考试模式设置页面、进入课程管理页面（修改课程信息）
        4. 设置考试模式
            1. 输入考试时间、科目、场次、考生列表
        5. 课程管理
            1. 开设课程
            2. 修改课程信息
2. 教师
    1. 课程管理页面
        1. 查看课程列表
            1. 筛选课程
                1. 查看本人正在开设的课程
                2. 查看本人以往的课程 
                3. 按课程名称筛选
                4. 按授课教师筛选
                    5. 按开课时间筛选
        2. 进入发布课程资源页
            1. 进入查看课程信息页
            2. 进入发布课程资源页
                1. 查看或修改现有课程资源与作业
                2. 发布新的课程资源
                3. 发布课程练习
                4. 发布新的作业
            3. 进入学生学习情况页【评分方式和规则待定】
                1. 查看每个题目的学生完成情况（ac数、通过率，各梯队人数和人名）
                2. 查看每个学生的作业题目完成情况（提交状态，通过的样例数，提交次数，时空表现，源码）
            4. 进入发布考试页
                1. （未发布考试时）发布新的考试
                2. （考试完成前）修改发布的考试
                3. （考试完成后）查看考试结果
    2. 题目管理页面
        1. 按题目所属科目筛选
        2. 按题目AC率筛选
        3. 添加题目
        4. 导出题目数据
            1. 选择题目
            2. 导出
    4. 比赛管理页面
        1. 新建比赛
            1. 比赛名称
            2. 比赛时间
            3. 比赛基本信息
            4. 添加比赛题目
            5. 修改比赛题目
        2. 查看比赛
            1. 进入比赛详情
                1. 比赛基本信息
                    1. （发布前）修改比赛信息
                    2. 查看比赛信息
                2. 学生成绩
                    1. 查看学生成绩
                    2. 导出学生成绩
3. 学生
    1. 课程选择页面
        1. 查看课程列表
        2. 进入课程详情页面
            1. 按照时间浏览文章和作业
            2. 按照知识点浏览文章和作业
            3. 进入课程资源展示页面
            4. 进入作业
                1. 查看作业内容
                2. 提交代码
                3. 查看完成情况
                4. 提交报告
    2. 进入天梯页面
        1. 按照难度筛选
        2. 选择题目
            1. 查看题目
            2. 提交代码
            3. 查看完成情况
    4. 进入竞赛页面
        1. 查看往期竞赛
            1. 选择竞赛
                1. 查看竞赛信息
                2. 选择题目
                    1. 查看题目内容
                    2. 提交代码
                    3. 查看完成情况
        2. 查看正在进行的竞赛
            1. 选择竞赛
                1. 查看竞赛信息
                2. 选择题目
                    1. 查看题目内容
                    2. 提交代码
                    3. 查看完成情况
5. 考生
    1. 考试页面
        1. 查看考试列表
        2. 进入考试详情页面
            1. 查看试卷列表
            2. 进入试卷
                1. 查看题目列表
                2. 进入题目
                    1. 查看题目内容
                    2. 提交代码
                    3. 查看完成情况

### 四、特性

1. 题库，给每一道题添加科目（数据结构、算法、Java）与主题（图、动态规划）。
2. 添加题目有三种方式：使用已有题目，从已有题目新建（复制），新建空白题目。
3. 导出、导入题目，应用于数据备份等。
4. 课程资源组织，将课件、讲义等统一为文章，支持富文本（markdown）+附件。
5. 作业练习，作业中额外添加练习题，难度低于作业题，类似于小练习。
6. 数据显示：对于课程详情，按照时间与章节排序，按照作业与资源筛选，对于题目，同样提供筛选和排序功能。
7. 数据统计：统计全体同学每次作业、每个题目的完成信息（完成率，平均分），查看每个同学全部作业的完成情况（完成度，平均分），考试统计，导出成绩。
8. 权限机制，管理员可以管理所有用户的权限，见1.3.3。
9. 考试模式，额外增加考试码，进入以后默认考生权限。
10. 如何让学生爱上学习，提供统计数据，与实时数据。
11. 天梯系统，根据题目难度确定每道题目分值，可以积分升级。


